<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
        />
        <title>Stencil Component Starter</title>

        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;300;400&family=Roboto:wght@100;300;400;500;700;900&display=swap"
            rel="stylesheet"
        />
        <script
            type="module"
            src="../../../../../dist/astro-web-components/astro-web-components.esm.js"
        ></script>
        <script nomodule src="/build/astro-web-components.js"></script>

        <link
            rel="stylesheet"
            href="../../../../../dist/astro-web-components/astro-web-components.css"
        />
        <link
            rel="stylesheet"
            href="../../../../../src/global/test-reset.css"
        />
        <!-- <script type="module" src="https://unpkg.com/@rocketmark/figma-testing-library/dist/figma-testing-library/figma-testing-library.esm.js"></script> -->
        <style>
            rux-card {
                margin-inline: 0.5rem;
            }
        </style>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
        />
    </head>

    <body>
        <rux-global-status-bar
            include-icon="true"
            app-domain="Astro"
            app-name="Dashboard"
            app-version="4.0 Alpha"
            menu-icon="apps"
            username=""
            app-state-color=""
            app-state=""
        >
        </rux-global-status-bar>
        <rux-container>
            <div slot="header">A sample container</div>
            <div style="display: flex">
                <rux-card>
                    <div slot="header">Card</div>
                    Much space, very wow!
                </rux-card>
                <rux-card>
                    <div slot="header">Card</div>
                    Omg space!
                </rux-card>
                <rux-card>
                    <div slot="header">Card</div>
                    Satellite Snuts.
                </rux-card>
            </div>
            <div slot="footer">
                <rux-button secondary id="remove">Remove All Toasts</rux-button>
                <rux-button id="add">Add Toast</rux-button>
            </div>
            <button class="animate__animated animate__fadeInDown">
                is animate
            </button>
        </rux-container>
        <rux-toast open> toasty toast </rux-toast>

        <rux-toast open>
            toaster-oo dksjfhdsjf sdkjhdfh djfgh kdjfgdjkfg dkjgdkjfgf
            gkjdfgdfkg dfkjg dfkjg dfkjg dfkjg dfjkgh
        </rux-toast>

        <rux-toast-stack>
            <rux-toast open>I am a toast that lives in the stack</rux-toast>
        </rux-toast-stack>

        <script>
            const body = document.querySelector('body')
            const remove = document.getElementById('remove')
            const add = document.getElementById('add')
            const statuses = [
                'off',
                'normal',
                'standby',
                'caution',
                'serious',
                'critical',
            ]
            let randomStatus = 'normal'

            function getRandomInt(max) {
                return Math.floor(Math.random() * max)
            }

            remove.addEventListener('click', () => {
                const toasts = document.querySelectorAll('rux-toast')
                for (const toast of toasts) {
                    toast.remove()
                }
            })
            let toastNumber = 1
            add.addEventListener('click', () => {
                randomStatus = statuses[getRandomInt(6)]
                const newToast = document.createElement('RUX-TOAST')

                newToast.setAttribute('message', `New toast ${toastNumber}!`)
                toastNumber = toastNumber + 1
                newToast.setAttribute('open', '')
                //newToast.setAttribute('animate-out', '')
                newToast.setAttribute('status', `${randomStatus}`)

                body.appendChild(newToast)
            })
        </script>
    </body>
</html>
