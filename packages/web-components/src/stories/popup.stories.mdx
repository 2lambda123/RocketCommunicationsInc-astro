import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { html, render } from 'lit-html'

<Meta
    title="Components/Pop Up Menu"
    component="rux-pop-up-menu"
    argTypes={extractArgTypes('rux-pop-up-menu')}
    subcomponents={{
        RuxMenuItem: 'rux-menu-item',
        RuxMenuItemDivider: 'rux-menu-item-divider',
    }}
    parameters={{
        actions: {
            handles: [
                'ruxpopupmenuselected rux-pop-up-menu',
            ],
        },
    }}
/>

# Pop Up

A Pop-Up Menu provides users with a quick way to access common actions for a highlighted item.

## Guidelines

-   [Astro UXDS: Pop Up Menu](http://www.astrouxds.com/library/pop-up-menu)

export const Default = (args) => {
    return html`
<div style="display: flex; width: 100%; justify-content: center; margin-top: 10%;">
    <rux-pop-up-menu open=${args.open} placement=${args.placement}>
        <rux-icon icon="apps" slot="trigger"></rux-icon>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up-menu>
</div>
`
}

<Canvas>
    <Story
        args={{
            open: true,
            placement: 'bottom'
        }}
        name="Default"
    >
        {Default.bind()}
    </Story>
</Canvas>

## API

<ArgsTable of="rux-pop-up-menu" />

## Usage

Make use of [Menu Item](?path=/docs/components-pop-up-menu-menu-item--default-story) and [Menu Item Divider](?path=/docs/components-pop-up-menu-menu-item-divider--default-story) to compose your own Pop Up Menus.
Every `rux-pop-up-menu` should use the named `trigger` slot to render the trigger element for the pop-up menu.
`rux-pop-up-menu` uses [floatingUI](https://floating-ui.com/) under the hood in order to position the menu. This means that the menu will attempt to position according to the `placement` prop, but will utlimately position where it's content 
can be seen.

## Variants

### Placements

export const Placements = (args) => {
    return html`
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 10%; margin-top: 10%;">
    <rux-pop-up-menu placement="top" open>
        <rux-button slot="trigger">Top</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up-menu>
</div>
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 10%">
    <rux-pop-up-menu placement="right" open>
        <rux-button slot="trigger">Right</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up-menu>
</div>
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 15%">
    <rux-pop-up-menu placement="bottom" open>
        <rux-button slot="trigger">Bottom</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up-menu>
</div>
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 10%">
    <rux-pop-up-menu placement="left" open>
        <rux-button slot="trigger">Left</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up-menu>
</div>
`
}

<Canvas>
    <Story
        name="Placements"
        argTypes={{
            placement: { table: {disable: true}},
            open: { table: {disable: true }},
        }}
    >
        {Placements.bind()}
    </Story>
</Canvas>

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import RuxPopUpMenu from '@astrouxds/astro-web-components/dist/components/rux-pop-up-menu.js'
customElements.define('rux-pop-up-menu', RuxPopUpMenu)
```
