import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { html, render } from 'lit-html'

<Meta
    title="Components/Pop Up"
    component="rux-pop-up"
    argTypes={extractArgTypes('rux-pop-up')}
    subcomponents={{
        RuxMenu: 'rux-menu',
        RuxMenuItem: 'rux-menu-item',
        RuxMenuItemDivider: 'rux-menu-item-divider',
    }}
    parameters={{
        actions: {
            handles: [
                'ruxpopupopened rux-pop-up',
                'ruxpopupclosed rux-pop-up'
            ],
        },
    }}
/>

# Pop Up

A Pop-Up provides users with a quick way to access common actions for a highlighted item.

## Guidelines

-   [Astro UXDS: Pop Up](http://www.astrouxds.com/library/pop-up)

export const Default = (args) => {
    return html`
<div style="display: flex; width: 100%; justify-content: center; margin-top: 10%;">
    <rux-pop-up open=${args.open}>
        <rux-icon icon="apps" slot="trigger"></rux-icon>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up>
</div>
`
}

<Canvas>
    <Story
        args={{
            open: true,
            placement: 'auto'
        }}
        name="Default"
    >
        {Default.bind()}
    </Story>
</Canvas>

## API

<ArgsTable of="rux-pop-up" />

## Usage

Make use of [Menu](?path=/docs/components-pop-up-menu--default-story) [Menu Item](?path=/docs/components-pop-up-menu-item--default-story) and [Menu Item Divider](?path=/docs/components-pop-up-menu-item-divider--default-story) to compose your own Pop Up.
Every `rux-pop-up` should use the named `trigger` slot to render the trigger element for the pop-up menu.
The menu will attempt to position according to the `placement` prop if provided, or will use auto-placement if not.

## Variants

### Placements

export const Placements = (args) => {
    return html`
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 10%; margin-top: 10%;">
    <rux-pop-up placement="top" open>
        <rux-button slot="trigger">Top</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up>
</div>
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 10%">
    <rux-pop-up placement="right" open>
        <rux-button slot="trigger">Right</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up>
</div>
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 15%">
    <rux-pop-up placement="bottom" open>
        <rux-button slot="trigger">Bottom</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up>
</div>
<div style="display: flex; width: 100%; justify-content: center; margin-bottom: 10%">
    <rux-pop-up placement="left" open>
        <rux-button slot="trigger">Left</rux-button>
        <rux-menu>
            <rux-menu-item value="1">Menu Item 1</rux-menu-item>
            <rux-menu-item value="2">Menu Item 2</rux-menu-item>
            <rux-menu-item value="3">Menu Item 3</rux-menu-item>
        </rux-menu>
    </rux-pop-up>
</div>
`
}

<Canvas>
    <Story
        name="Placements"
        argTypes={{
            placement: { table: {disable: true}},
            open: { table: {disable: true }},
        }}
    >
        {Placements.bind()}
    </Story>
</Canvas>

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import RuxPopUp from '@astrouxds/astro-web-components/dist/components/rux-pop-up.js'
customElements.define('rux-pop-up', RuxPopUp)
```
